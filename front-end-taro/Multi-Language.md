# å¤šè¯­è¨€æ”¯æŒæ–‡æ¡£

## æ¦‚è¿°

å® ç‰©é¢„çº¦ç³»ç»Ÿå·²å®ç°å®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒï¼Œæ”¯æŒä¸­è‹±æ–‡ç•Œé¢åˆ‡æ¢ã€‚ç³»ç»Ÿä½¿ç”¨ React Context å’Œè‡ªå®šä¹‰å›½é™…åŒ–å·¥å…·æ¥ç®¡ç†è¯­è¨€çŠ¶æ€å’Œæ–‡æœ¬ç¿»è¯‘ã€‚

## ç›®å½•ç»“æ„

```
src/shared/i18n/
â”œâ”€â”€ index.ts              # å›½é™…åŒ–å·¥å…·å‡½æ•°
â”œâ”€â”€ LanguageContext.tsx   # è¯­è¨€ä¸Šä¸‹æ–‡ç®¡ç†
â”œâ”€â”€ LanguageSwitcher.tsx # è¯­è¨€åˆ‡æ¢ç»„ä»¶
â”œâ”€â”€ LanguageSwitcher.scss # è¯­è¨€åˆ‡æ¢å™¨æ ·å¼
â””â”€â”€ locales/
    â”œâ”€â”€ zh-CN.ts          # ä¸­æ–‡è¯­è¨€åŒ…
    â””â”€â”€ en-US.ts          # è‹±æ–‡è¯­è¨€åŒ…
```

## æ ¸å¿ƒç»„ä»¶

### 1. LanguageProvider

åŒ…è£…æ•´ä¸ªåº”ç”¨çš„æ ¹ç»„ä»¶ï¼Œæä¾›è¯­è¨€ä¸Šä¸‹æ–‡ã€‚

```tsx
import { LanguageProvider } from './shared/i18n/LanguageContext'

function App({ children }) {
  return (
    <LanguageProvider>
      {children}
    </LanguageProvider>
  )
}
```

### 2. useLanguage Hook

åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è¯­è¨€åŠŸèƒ½å’Œç¿»è¯‘ã€‚

```tsx
import { useLanguage } from './shared/i18n/LanguageContext'

function MyComponent() {
  const { locale, setLocale, t } = useLanguage()
  
  return (
    <div>
      <span>{t('common.loading')}</span>
      <button onClick={() => setLocale('en-US')}>
        Switch to English
      </button>
    </div>
  )
}
```

### 3. LanguageSwitcher

ä¸‹æ‹‰å¼è¯­è¨€åˆ‡æ¢å™¨ç»„ä»¶ï¼Œæ˜¾ç¤ºå›½æ——å›¾æ ‡å’Œä¸‹æ‹‰é€‰æ‹©ã€‚

```tsx
import { LanguageSwitcher } from './shared/i18n/LanguageSwitcher'

function CustomNavbar() {
  return (
    <div className="navbar">
      {/* å…¶ä»–å¯¼èˆªå†…å®¹ */}
      <LanguageSwitcher />
    </div>
  )
}
```

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- ğŸ‡¨ğŸ‡³ æ˜¾ç¤ºå½“å‰è¯­è¨€çš„å›½æ——å›¾æ ‡
- â–¼ ç‚¹å‡»å±•å¼€ä¸‹æ‹‰èœå•
- ğŸŒ æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢
- ğŸ’¾ è‡ªåŠ¨ä¿å­˜è¯­è¨€è®¾ç½®
- ğŸ¯ ç‚¹å‡»å¤–éƒ¨è‡ªåŠ¨å…³é—­

## è¯­è¨€åŒ…ç»“æ„

è¯­è¨€åŒ…é‡‡ç”¨åˆ†å±‚ç»“æ„ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤ï¼š

```typescript
export default {
  common: {
    loading: 'åŠ è½½ä¸­...',
    submit: 'æäº¤',
    confirm: 'ç¡®è®¤',
    // ... æ›´å¤šé€šç”¨æ–‡æœ¬
  },
  nav: {
    home: 'é¦–é¡µ',
    booking: 'é¢„çº¦',
    dashboard: 'é¢„çº¦ç®¡ç†',
    // ... å¯¼èˆªæ–‡æœ¬
  },
  booking: {
    title: 'å® ç‰©æœåŠ¡é¢„çº¦',
    selectService: 'é€‰æ‹©æœåŠ¡',
    selectDate: 'é€‰æ‹©æ—¥æœŸ',
    // ... é¢„çº¦ç›¸å…³æ–‡æœ¬
  },
  dashboard: {
    title: 'é¢„çº¦ç®¡ç†',
    pending: 'å¾…ç¡®è®¤',
    confirmed: 'å·²ç¡®è®¤',
    // ... ä»ªè¡¨æ¿æ–‡æœ¬
  },
  petTypes: {
    dog: 'ç‹—ç‹—',
    cat: 'çŒ«å’ª',
    other: 'å…¶ä»–'
  },
  sizes: {
    small: 'å°å‹',
    medium: 'ä¸­å‹',
    large: 'å¤§å‹'
  },
  errors: {
    required: 'æ­¤é¡¹ä¸ºå¿…å¡«é¡¹',
    invalidPhone: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·ç '
  }
}
```

## ç•Œé¢å±•ç¤º

### ä¸‹æ‹‰å¼è¯­è¨€åˆ‡æ¢å™¨

**é»˜è®¤çŠ¶æ€ï¼š**
```
[ğŸ‡¨ğŸ‡³ â–¼]
```

**å±•å¼€çŠ¶æ€ï¼š**
```
[ğŸ‡¨ğŸ‡³ â–²]
â”œâ”€â”€ ğŸ‡¨ğŸ‡³ ä¸­æ–‡
â””â”€â”€ ğŸ‡ºğŸ‡¸ English
```

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å›½æ——å›¾æ ‡ç›´è§‚æ˜¾ç¤ºå½“å‰è¯­è¨€
- âœ… ä¸‹æ‹‰ç®­å¤´æŒ‡ç¤ºå±•å¼€/æ”¶èµ·çŠ¶æ€
- âœ… æ‚¬åœæ•ˆæœå’Œç‚¹å‡»åé¦ˆ
- âœ… ç‚¹å‡»å¤–éƒ¨åŒºåŸŸè‡ªåŠ¨å…³é—­
- âœ… å“åº”å¼è®¾è®¡ï¼Œé€‚é…ç§»åŠ¨ç«¯

## ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬ç¿»è¯‘

ä½¿ç”¨ `t()` å‡½æ•°è¿›è¡Œæ–‡æœ¬ç¿»è¯‘ï¼š

```tsx
const { t } = useLanguage()

// ç®€å•ç¿»è¯‘
t('common.loading') // è¿”å›å½“å‰è¯­è¨€çš„"åŠ è½½ä¸­..."æˆ–"Loading..."

// å¸¦å‚æ•°çš„ç¿»è¯‘ï¼ˆéœ€è¦æ‰©å±•è¯­è¨€åŒ…æ”¯æŒï¼‰
t('booking.availableSlots', { count: 3 }) // "3ä¸ªç©ºä½" æˆ– "3 available slots"
```

### 2. è¯­è¨€åˆ‡æ¢

```tsx
const { locale, setLocale, availableLocales } = useLanguage()

// åˆ‡æ¢è¯­è¨€
setLocale('en-US')

// è·å–å¯ç”¨è¯­è¨€åˆ—è¡¨
availableLocales.forEach(({ code, name }) => {
  console.log(`${code}: ${name}`)
})
```

### 3. åœ¨ç±»ç»„ä»¶ä¸­ä½¿ç”¨

å¯¹äºç±»ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é«˜é˜¶ç»„ä»¶æˆ– Context.Consumerï¼š

```tsx
import LanguageContext from './shared/i18n/LanguageContext'

class MyClassComponent extends React.Component {
  static contextType = LanguageContext
  
  render() {
    const { t } = this.context
    return <div>{t('common.loading')}</div>
  }
}
```

## æ·»åŠ æ–°è¯­è¨€

### 1. åˆ›å»ºè¯­è¨€åŒ…æ–‡ä»¶

åœ¨ `src/shared/i18n/locales/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„è¯­è¨€æ–‡ä»¶ï¼š

```typescript
// fr-FR.ts
export default {
  common: {
    loading: 'Chargement...',
    submit: 'Soumettre',
    // ... æ³•è¯­ç¿»è¯‘
  },
  // ... å…¶ä»–æ–‡æœ¬åˆ†ç±»
}
```

### 2. æ³¨å†Œæ–°è¯­è¨€

åœ¨ `src/shared/i18n/index.ts` ä¸­æ·»åŠ æ–°è¯­è¨€ï¼š

```typescript
import frFR from './locales/fr-FR'

export const i18n = {
  // ... ç°æœ‰é…ç½®
  resources: {
    // ... ç°æœ‰è¯­è¨€
    'fr-FR': frFR
  },
  getAvailableLocales: () => [
    // ... ç°æœ‰è¯­è¨€
    { code: 'fr-FR', name: 'FranÃ§ais' }
  ]
}
```

## æœ€ä½³å®è·µ

### 1. æ–‡æœ¬é”®åè§„èŒƒ

- ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦
- æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç»„
- ä¿æŒä¸€è‡´çš„å‘½åçº¦å®š

### 2. åŠ¨æ€å†…å®¹å¤„ç†

å¯¹äºåŒ…å«å˜é‡çš„æ–‡æœ¬ï¼Œä½¿ç”¨å ä½ç¬¦ï¼š

```typescript
// è¯­è¨€åŒ…å®šä¹‰
booking: {
  availableSlots: '{count}ä¸ªç©ºä½'
}

// ä½¿ç”¨æ–¹å¼
t('booking.availableSlots', { count: 5 })
```

### 3. å¤æ•°å½¢å¼å¤„ç†

å¯¹äºéœ€è¦å¤æ•°å½¢å¼çš„æ–‡æœ¬ï¼š

```typescript
// è¯­è¨€åŒ…å®šä¹‰
common: {
  itemCount: {
    one: '{count} é¡¹',
    other: '{count} é¡¹'
  }
}

// ä½¿ç”¨æ–¹å¼ï¼ˆéœ€è¦æ‰©å±•ç¿»è¯‘å‡½æ•°æ”¯æŒå¤æ•°ï¼‰
t('common.itemCount', { count: items.length })
```

## æ•…éšœæ’é™¤

### 1. æ–‡æœ¬æœªç¿»è¯‘

æ£€æŸ¥ï¼š
- é”®åæ˜¯å¦æ­£ç¡®
- è¯­è¨€åŒ…æ˜¯å¦åŒ…å«è¯¥é”®
- ç»„ä»¶æ˜¯å¦æ­£ç¡®ä½¿ç”¨ useLanguage Hook

### 2. è¯­è¨€åˆ‡æ¢ä¸ç”Ÿæ•ˆ

æ£€æŸ¥ï¼š
- LanguageProvider æ˜¯å¦æ­£ç¡®åŒ…è£…åº”ç”¨
- æœ¬åœ°å­˜å‚¨æƒé™æ˜¯å¦æ­£å¸¸
- è¯­è¨€ä»£ç æ˜¯å¦æ­£ç¡®

### 3. æ„å»ºé”™è¯¯

æ£€æŸ¥ï¼š
- è¯­è¨€åŒ…æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®
- å¯¼å…¥è·¯å¾„æ˜¯å¦æ­£ç¡®
- TypeScript ç±»å‹å®šä¹‰æ˜¯å¦å®Œæ•´

## æ‰©å±•åŠŸèƒ½

### 1. æ—¥æœŸå’Œæ—¶é—´æœ¬åœ°åŒ–

å¯ä»¥æ‰©å±•æ”¯æŒæ—¥æœŸæ ¼å¼æœ¬åœ°åŒ–ï¼š

```typescript
import { format } from 'date-fns'
import { enUS, zhCN } from 'date-fns/locale'

const dateLocales = {
  'en-US': enUS,
  'zh-CN': zhCN
}

function formatDate(date: Date, locale: string) {
  return format(date, 'PP', { locale: dateLocales[locale] })
}
```

### 2. æ•°å­—å’Œè´§å¸æ ¼å¼åŒ–

```typescript
function formatCurrency(amount: number, locale: string) {
  return new Intl.NumberFormat(locale, {
    style: 'currency',
    currency: 'CNY'
  }).format(amount)
}
```

## é¢„çº¦çŠ¶æ€ç®¡ç†

### çŠ¶æ€å®šä¹‰

ç³»ç»Ÿæ”¯æŒä»¥ä¸‹é¢„çº¦çŠ¶æ€ï¼š

| çŠ¶æ€ä»£ç  | ä¸­æ–‡æ˜¾ç¤º | è‹±æ–‡æ˜¾ç¤º | æè¿° |
|---------|---------|---------|------|
| `pending` | å¾…ç¡®è®¤ | Pending | æ–°åˆ›å»ºçš„é¢„çº¦ï¼Œç­‰å¾…å•†å®¶ç¡®è®¤ |
| `confirmed` | å·²ç¡®è®¤ | Confirmed | å•†å®¶å·²ç¡®è®¤é¢„çº¦ |
| `in_progress` | è¿›è¡Œä¸­ | In Progress | å®¢æˆ·å·²åˆ°åº—ï¼ŒæœåŠ¡æ­£åœ¨è¿›è¡Œä¸­ |
| `completed` | å·²å®Œæˆ | Completed | æœåŠ¡å·²å®Œæˆ |
| `cancelled` | å·²å–æ¶ˆ | Cancelled | å•†å®¶å–æ¶ˆé¢„çº¦ |
| `broken` | å®¢æˆ·çˆ½çº¦ | Broken | å®¢æˆ·æœªæŒ‰çº¦å®šæ—¶é—´åˆ°è¾¾æˆ–è‡ªè¡Œå–æ¶ˆ |

### çŠ¶æ€æµè½¬è§„åˆ™

**å…è®¸çš„çŠ¶æ€å˜æ›´ï¼š**
- **å¾…ç¡®è®¤** â†’ å·²ç¡®è®¤ / å·²å–æ¶ˆ
- **å·²ç¡®è®¤** â†’ è¿›è¡Œä¸­ / å·²å–æ¶ˆ / å®¢æˆ·çˆ½çº¦
- **è¿›è¡Œä¸­** â†’ å·²å®Œæˆ / å·²å–æ¶ˆ
- **å·²å®Œæˆ** â†’ ä¸å¯æ›´æ”¹ï¼ˆæœ€ç»ˆçŠ¶æ€ï¼‰
- **å·²å–æ¶ˆ** â†’ ä¸å¯æ›´æ”¹ï¼ˆæœ€ç»ˆçŠ¶æ€ï¼‰
- **å®¢æˆ·çˆ½çº¦** â†’ ä¸å¯æ›´æ”¹ï¼ˆæœ€ç»ˆçŠ¶æ€ï¼‰

### æ“ä½œæŒ‰é’®

åœ¨é¢„çº¦ç®¡ç†é¡µé¢ï¼Œæ ¹æ®å½“å‰çŠ¶æ€æ˜¾ç¤ºç›¸åº”çš„æ“ä½œæŒ‰é’®ï¼š

- **å¾…ç¡®è®¤çŠ¶æ€**ï¼šæ˜¾ç¤º"ç¡®è®¤"å’Œ"å–æ¶ˆ"æŒ‰é’®
- **å·²ç¡®è®¤çŠ¶æ€**ï¼šæ˜¾ç¤º"å¼€å§‹æœåŠ¡"ã€"æ ‡è®°çˆ½çº¦"å’Œ"å–æ¶ˆ"æŒ‰é’®
- **è¿›è¡Œä¸­çŠ¶æ€**ï¼šæ˜¾ç¤º"å®Œæˆ"å’Œ"å–æ¶ˆ"æŒ‰é’®
- **å·²å®Œæˆ/å·²å–æ¶ˆ/å®¢æˆ·çˆ½çº¦çŠ¶æ€**ï¼šä¸æ˜¾ç¤ºæ“ä½œæŒ‰é’®

### æ‰«ç ç­¾åˆ°åŠŸèƒ½

ç³»ç»Ÿæ”¯æŒäºŒç»´ç æ‰«ç ç­¾åˆ°åŠŸèƒ½ï¼š

**å•†å®¶ç«¯åŠŸèƒ½ï¼š**
- åœ¨é¢„çº¦ç®¡ç†é¡µé¢ç‚¹å‡»"æ‰«ç ç­¾åˆ°"æŒ‰é’®
- æ‰“å¼€æ‘„åƒå¤´æ‰«æå®¢æˆ·é¢„çº¦äºŒç»´ç 
- è‡ªåŠ¨å°†é¢„çº¦çŠ¶æ€æ›´æ–°ä¸º"è¿›è¡Œä¸­"

**å®¢æˆ·ç«¯åŠŸèƒ½ï¼š**
- å®¢æˆ·åœ¨é¢„çº¦è¯¦æƒ…é¡µé¢æŸ¥çœ‹é¢„çº¦äºŒç»´ç 
- äºŒç»´ç åŒ…å«é¢„çº¦IDä¿¡æ¯ï¼Œæ ¼å¼ï¼š`appointment:{appointmentId}`
- åˆ°åº—åå‘å•†å®¶å‡ºç¤ºäºŒç»´ç è¿›è¡Œç­¾åˆ°

**æŠ€æœ¯å®ç°ï¼š**
- ä½¿ç”¨Taroçš„æ‰«ç APIå®ç°æ‘„åƒå¤´æ‰«æ
- åŠ¨æ€ç”ŸæˆäºŒç»´ç ï¼Œä¸å­˜å‚¨äºŒç»´ç å›¾ç‰‡
- äºŒç»´ç åŒ…å«æ—¶é—´æˆ³éªŒè¯ï¼Œé˜²æ­¢é‡å¤ä½¿ç”¨

### æ ·å¼å®šä¹‰

æ¯ç§çŠ¶æ€éƒ½æœ‰å¯¹åº”çš„è§†è§‰æ ·å¼ï¼š

```scss
.status-badge.pending {
  background-color: #fff3cd;  /* é»„è‰²èƒŒæ™¯ */
  color: #856404;             /* æ·±é»„è‰²æ–‡å­— */
}

.status-badge.confirmed {
  background-color: #d1ecf1;   /* æµ…è“è‰²èƒŒæ™¯ */
  color: #0c5460;             /* æ·±è“è‰²æ–‡å­— */
}

.status-badge.in_progress {
  background-color: #d4edda;   /* æµ…ç»¿è‰²èƒŒæ™¯ */
  color: #155724;             /* æ·±ç»¿è‰²æ–‡å­— */
}

.status-badge.completed {
  background-color: #d4edda;   /* æµ…ç»¿è‰²èƒŒæ™¯ */
  color: #155724;             /* æ·±ç»¿è‰²æ–‡å­— */
}

.status-badge.cancelled {
  background-color: #f8d7da;   /* æµ…çº¢è‰²èƒŒæ™¯ */
  color: #721c24;             /* æ·±çº¢è‰²æ–‡å­— */
}

.status-badge.broken {
  background-color: #e9ecef;   /* æµ…ç°è‰²èƒŒæ™¯ */
  color: #495057;             /* æ·±ç°è‰²æ–‡å­— */
}
```

## æ€»ç»“

å¤šè¯­è¨€æ”¯æŒç³»ç»Ÿæä¾›äº†ï¼š
- âœ… å®Œæ•´çš„ä¸­è‹±æ–‡æ”¯æŒ
- âœ… åŠ¨æ€è¯­è¨€åˆ‡æ¢
- âœ… æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–
- âœ… ç±»å‹å®‰å…¨çš„ç¿»è¯‘å‡½æ•°
- âœ… å¯æ‰©å±•çš„æ¶æ„è®¾è®¡
- âœ… å®Œæ•´çš„é¢„çº¦çŠ¶æ€ç®¡ç†
- âœ… å®¢æˆ·çˆ½çº¦çŠ¶æ€æ”¯æŒ

ç³»ç»Ÿå·²ä¸ºåç»­æ·»åŠ æ›´å¤šè¯­è¨€æ”¯æŒåšå¥½äº†å‡†å¤‡ï¼Œåªéœ€æŒ‰ç…§ä¸Šè¿°æ­¥éª¤æ·»åŠ æ–°çš„è¯­è¨€åŒ…å³å¯ã€‚