var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,i=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(a)for(var n of a(t))r.call(t,n)&&s(e,n,t[n]);return e},c=(e,a)=>t(e,n(a)),l=(e,t,n)=>new Promise((a,o)=>{var r=e=>{try{i(n.next(e))}catch(t){o(t)}},s=e=>{try{i(n.throw(e))}catch(t){o(t)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,s);i((n=n.apply(e,t)).next())});import{R as d,t as p,j as m,s as u,g,r as h,a as _,V as y,T as S,B as b,b as v,c as f}from"./vendors.680e87f1.js";const k={common:{loading:"\u52a0\u8f7d\u4e2d...",submit:"\u63d0\u4ea4",confirm:"\u786e\u8ba4",cancel:"\u53d6\u6d88",save:"\u4fdd\u5b58",edit:"\u7f16\u8f91",delete:"\u5220\u9664",search:"\u641c\u7d22",reset:"\u91cd\u7f6e",back:"\u8fd4\u56de",next:"\u4e0b\u4e00\u6b65",prev:"\u4e0a\u4e00\u6b65",close:"\u5173\u95ed",yes:"\u662f",no:"\u5426",ok:"\u786e\u5b9a",unknown:"\u672a\u77e5\u54c1\u79cd",sunday:"\u5468\u65e5",monday:"\u5468\u4e00",tuesday:"\u5468\u4e8c",wednesday:"\u5468\u4e09",thursday:"\u5468\u56db",friday:"\u5468\u4e94",saturday:"\u5468\u516d",january:"\u4e00\u6708",february:"\u4e8c\u6708",march:"\u4e09\u6708",april:"\u56db\u6708",may:"\u4e94\u6708",june:"\u516d\u6708",july:"\u4e03\u6708",august:"\u516b\u6708",september:"\u4e5d\u6708",october:"\u5341\u6708",november:"\u5341\u4e00\u6708",december:"\u5341\u4e8c\u6708",year:"\u5e74",to:"\u81f3"},nav:{home:"\u9996\u9875",booking:"\u9884\u7ea6",management:"\u9884\u7ea6\u7ba1\u7406",databoard:"\u6570\u636e\u770b\u677f",reports:"\u62a5\u8868",store:"\u8fdb\u5e97\u770b\u770b",personal:"\u4e2a\u4eba\u4e2d\u5fc3",admin:"\u7ba1\u7406\u5458"},booking:{title:"\u5ba0\u7269\u670d\u52a1\u9884\u7ea6",selectService:"\u9009\u62e9\u670d\u52a1",selectDate:"\u9009\u62e9\u65e5\u671f",selectTime:"\u9009\u62e9\u65f6\u95f4",fillInfo:"\u586b\u5199\u4fe1\u606f",customerName:"\u5ba2\u6237\u59d3\u540d",customerPhone:"\u624b\u673a\u53f7\u7801",petType:"\u5ba0\u7269\u7c7b\u578b",petBreed:"\u5ba0\u7269\u54c1\u79cd",petSize:"\u5ba0\u7269\u4f53\u578b",specialNotes:"\u7279\u6b8a\u8981\u6c42",submitBooking:"\u7acb\u5373\u9884\u7ea6",submitting:"\u63d0\u4ea4\u4e2d...",bookingSuccess:"\u9884\u7ea6\u6210\u529f\uff01",bookingFailed:"\u9884\u7ea6\u5931\u8d25",networkError:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5",completeInfo:"\u8bf7\u586b\u5199\u5b8c\u6574\u4fe1\u606f",today:"\u4eca\u5929",tomorrow:"\u660e\u5929",morning:"\u4e0a\u5348",afternoon:"\u4e0b\u5348",evening:"\u665a\u4e0a",availableSlots:"\u4e2a\u7a7a\u4f4d",duration:"\u65f6\u957f",minutes:"\u5206\u949f"},management:{title:"\u9884\u7ea6\u7ba1\u7406",allStatus:"\u5168\u90e8\u72b6\u6001",pending:"\u5f85\u786e\u8ba4",confirmed:"\u5df2\u786e\u8ba4",in_progress:"\u8fdb\u884c\u4e2d",completed:"\u5df2\u5b8c\u6210",cancelled:"\u5df2\u53d6\u6d88",broken:"\u5ba2\u6237\u723d\u7ea6",selectDate:"\u9009\u62e9\u65e5\u671f",selectDateRange:"\u9009\u62e9\u65e5\u671f\u8303\u56f4",selectStartDate:"\u8bf7\u9009\u62e9\u5f00\u59cb\u65e5\u671f",selectEndDate:"\u8bf7\u9009\u62e9\u7ed3\u675f\u65e5\u671f",dateRange:"\u65e5\u671f\u8303\u56f4",clear:"\u6e05\u7a7a",confirm:"\u786e\u8ba4",customer:"\u5ba2\u6237",phone:"\u7535\u8bdd",pet:"\u5ba0\u7269",time:"\u65f6\u95f4",notes:"\u5907\u6ce8",start_service:"\u5f00\u59cb\u670d\u52a1",complete:"\u5b8c\u6210",cancel:"\u53d6\u6d88",mark_broken:"\u6807\u8bb0\u723d\u7ea6",scan_qr:"\u626b\u7801\u7b7e\u5230",noData:"\u6682\u65e0\u9884\u7ea6\u6570\u636e",loadFailed:"\u52a0\u8f7d\u6570\u636e\u5931\u8d25",updateSuccess:"\u72b6\u6001\u66f4\u65b0\u6210\u529f",updateFailed:"\u66f4\u65b0\u5931\u8d25",networkError:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5"},petTypes:{dog:"\u72d7\u72d7",cat:"\u732b\u54aa",other:"\u5176\u4ed6"},sizes:{small:"\u5c0f\u578b",medium:"\u4e2d\u578b",large:"\u5927\u578b"},errors:{required:"\u6b64\u9879\u4e3a\u5fc5\u586b\u9879",invalidPhone:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u624b\u673a\u53f7\u7801",networkError:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5"},language:{select_language:"\u9009\u62e9\u8bed\u8a00"},navbar:{scan_signin:"\u626b\u7801\u7b7e\u5230",switch_language:"\u5207\u6362\u8bed\u8a00",operation_log:"\u64cd\u4f5c\u8bb0\u5f55",data_report:"\u6570\u636e\u7edf\u8ba1",personal:"\u4e2a\u4eba\u4e2d\u5fc3"},databoard:{title:"\u6570\u636e\u770b\u677f",today_data:"\u4eca\u65e5\u6570\u636e",total:"\u5168\u90e8",pending:"\u5f85\u786e\u8ba4",confirmed:"\u5df2\u786e\u8ba4",in_progress:"\u8fdb\u884c\u4e2d",completed:"\u5df2\u5b8c\u6210",broken:"\u5ba2\u6237\u723d\u7ea6",cancelled:"\u5df2\u53d6\u6d88",refresh:"\u5237\u65b0\u6570\u636e",last_update:"\u6700\u540e\u66f4\u65b0",recent_appointments:"\u6700\u8fd1\u9884\u7ea6",no_recent_appointments:"\u6682\u65e0\u6700\u8fd1\u9884\u7ea6"},reports:{title:"\u62a5\u8868\u770b\u677f",pieChartTitle:"\u5b8c\u6210\u6570/\u723d\u7ea6\u6570",barChartTitle:"\u9884\u7ea6\u6570\u7edf\u8ba1",day:"\u65e5",month:"\u6708",year:"\u5e74",filter:"\u7b5b\u9009",loading:"\u52a0\u8f7d\u4e2d...",noData:"\u6682\u65e0\u6570\u636e",error:"\u52a0\u8f7d\u5931\u8d25",dailyStats:"\u6700\u8fd110\u5929-\u9884\u7ea6\u7edf\u8ba1",monthlyStats:"\u6708\u5ea6\u9884\u7ea6\u7edf\u8ba1",yearlyStats:"\u5e74\u5ea6\u9884\u7ea6\u7edf\u8ba1",completed:"\u5df2\u5b8c\u6210",broken:"\u723d\u7ea6",canceled:"\u53d6\u6d88",appointments:"\u9884\u7ea6\u6570"},operation_log:{title:"\u64cd\u4f5c\u8bb0\u5f55",create_appointment:"\u521b\u5efa\u9884\u7ea6",update_status:"\u66f4\u65b0\u72b6\u6001",scan_signin:"\u626b\u7801\u7b7e\u5230",manual_signin:"\u624b\u52a8\u7b7e\u5230",cancel_appointment:"\u53d6\u6d88\u9884\u7ea6",operator:"\u64cd\u4f5c\u4eba",appointment_no:"\u9884\u7ea6\u5355\u53f7",status_change:"\u72b6\u6001\u53d8\u66f4",details:"\u8be6\u60c5",noData:"\u6682\u65e0\u64cd\u4f5c\u8bb0\u5f55",loadFailed:"\u52a0\u8f7d\u5931\u8d25"},appointment_status:{pending:"\u5f85\u786e\u8ba4",confirmed:"\u5df2\u786e\u8ba4",in_progress:"\u8fdb\u884c\u4e2d",completed:"\u5df2\u5b8c\u6210",cancelled:"\u5df2\u53d6\u6d88",broken:"\u5ba2\u6237\u723d\u7ea6"},store:{title:"\u5e97\u94fa\u4ecb\u7ecd",name:"\u5ba0\u7269\u7f8e\u5bb9\u670d\u52a1\u4e2d\u5fc3",address:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5efa\u56fd\u8def88\u53f7",phone:"400-123-4567",businessHours:"\u5468\u4e00\u81f3\u5468\u65e5 9:00-21:00",store_info:"\u5e97\u94fa\u4fe1\u606f",address_label:"\u5730\u5740\uff1a",phone_label:"\u7535\u8bdd\uff1a",hours_label:"\u8425\u4e1a\u65f6\u95f4\uff1a",services_title:"\u670d\u52a1\u9879\u76ee",features_title:"\u5e97\u94fa\u7279\u8272",services:{grooming:{name:"\u5ba0\u7269\u7f8e\u5bb9",price:"\xa580-200",desc:"\u4e13\u4e1a\u6d17\u62a4\u3001\u9020\u578b\u8bbe\u8ba1"},health:{name:"\u5065\u5eb7\u62a4\u7406",price:"\xa550-150",desc:"\u4f53\u68c0\u3001\u9a71\u866b\u3001\u75ab\u82d7\u63a5\u79cd"},boarding:{name:"\u5bc4\u517b\u670d\u52a1",price:"\xa560/\u5929",desc:"\u8212\u9002\u73af\u5883\uff0c\u4e13\u4eba\u770b\u62a4"},supplies:{name:"\u5ba0\u7269\u7528\u54c1",price:"\xa520-500",desc:"\u98df\u54c1\u3001\u73a9\u5177\u3001\u7528\u54c1\u9f50\u5168"}}},user:{title:"\u7528\u6237\u4e2d\u5fc3",profile:"\u6211\u7684",appointment:"\u9884\u7ea6",store:"\u5e97\u94fa\u4ecb\u7ecd",services:"\u670d\u52a1\u9879\u76ee",pets:"\u5ba0\u7269\u6863\u6848",history:"\u6d88\u8d39\u8bb0\u5f55",personal_info:"\u4e2a\u4eba\u4fe1\u606f",phone_number:"\u624b\u673a\u53f7\u7801",register_time:"\u6ce8\u518c\u65f6\u95f4",appointment_count:"\u9884\u7ea6\u6b21\u6570",times:"\u6b21",actions:"\u64cd\u4f5c",new_appointment:"\u65b0\u7684\u9884\u7ea6",logout:"\u9000\u51fa\u767b\u5f55",no_appointments:"\u6682\u65e0\u9884\u7ea6\u8bb0\u5f55",book_now:"\u7acb\u5373\u9884\u7ea6",service:"\u670d\u52a1",time:"\u65f6\u95f4",pet:"\u5ba0\u7269",pet_type:"\u5ba0\u7269\u7c7b\u578b",pet_breed:"\u5ba0\u7269\u54c1\u79cd",store_name:"\u5ba0\u7269\u7f8e\u5bb9\u670d\u52a1\u4e2d\u5fc3",store_address:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5efa\u56fd\u8def88\u53f7",store_phone:"\u7535\u8bdd: 400-123-4567",store_hours:"\u8425\u4e1a\u65f6\u95f4: \u5468\u4e00\u81f3\u5468\u65e5 9:00-21:00",view_details:"\u67e5\u770b\u8be6\u60c5",services_title:"\u670d\u52a1\u9879\u76ee",grooming:"\u5ba0\u7269\u7f8e\u5bb9",grooming_price:"\xa580-200",grooming_desc:"\u5305\u62ec\u6d17\u6fa1\u3001\u5439\u5e72\u3001\u4fee\u526a\u3001\u9020\u578b\u7b49",health_care:"\u5065\u5eb7\u62a4\u7406",health_care_price:"\xa550-150",health_care_desc:"\u5305\u62ec\u4f53\u68c0\u3001\u9a71\u866b\u3001\u75ab\u82d7\u63a5\u79cd\u7b49",boarding:"\u5bc4\u517b\u670d\u52a1",boarding_price:"\xa560/\u5929",boarding_desc:"\u63d0\u4f9b\u5b89\u5168\u8212\u9002\u7684\u5bc4\u517b\u73af\u5883",training:"\u8bad\u7ec3\u670d\u52a1",training_price:"\xa5200-500",training_desc:"\u57fa\u7840\u670d\u4ece\u8bad\u7ec3\u3001\u884c\u4e3a\u77eb\u6b63",no_pets:"\u6682\u65e0\u5ba0\u7269\u4fe1\u606f",add_pet:"\u6dfb\u52a0\u5ba0\u7269",consumption_history:"\u6d88\u8d39\u8bb0\u5f55",completed:"\u5df2\u5b8c\u6210",cancelled:"\u5df2\u53d6\u6d88",broken:"\u723d\u7ea6",recent_consumption:"\u6700\u8fd1\u6d88\u8d39",not_logged_in:"\u672a\u767b\u5f55",not_registered:"\u672a\u6ce8\u518c",add_pet_developing:"\u6dfb\u52a0\u5ba0\u7269\u529f\u80fd\u5f00\u53d1\u4e2d"},appointment:{cancel:"\u53d6\u6d88\u9884\u7ea6",cancelConfirm:"\u786e\u5b9a\u8981\u53d6\u6d88\u6b64\u9884\u7ea6\u5417\uff1f\u6b64\u64cd\u4f5c\u4e0d\u53ef\u64a4\u9500\u3002",cancelSuccess:"\u9884\u7ea6\u53d6\u6d88\u6210\u529f",cancelFailed:"\u53d6\u6d88\u9884\u7ea6\u5931\u8d25",appointmentNo:"\u9884\u7ea6\u5355\u53f7",serviceItem:"\u670d\u52a1\u9879\u76ee",serviceDuration:"\u670d\u52a1\u65f6\u957f",servicePrice:"\u670d\u52a1\u4ef7\u683c",estimatedEndTime:"\u9884\u8ba1\u7ed3\u675f\u65f6\u95f4",createTime:"\u521b\u5efa\u65f6\u95f4",minutes:"\u5206\u949f",qrTitle:"\u9884\u7ea6\u4e8c\u7ef4\u7801",qrDesc:"\u5230\u5e97\u540e\u8bf7\u5411\u5546\u5bb6\u51fa\u793a\u6b64\u4e8c\u7ef4\u7801\u8fdb\u884c\u7b7e\u5230",qrTip:'\u5546\u5bb6\u626b\u63cf\u4e8c\u7ef4\u7801\u540e\uff0c\u9884\u7ea6\u72b6\u6001\u5c06\u66f4\u65b0\u4e3a"\u8fdb\u884c\u4e2d"'}},N={common:{loading:"Loading...",submit:"Submit",confirm:"Confirm",cancel:"Cancel",save:"Save",edit:"Edit",delete:"Delete",search:"Search",reset:"Reset",back:"Back",next:"Next",prev:"Previous",close:"Close",yes:"Yes",no:"No",ok:"OK",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",year:"",to:"to"},nav:{home:"Home",booking:"Booking",management:"Appointment Management",databoard:"Data Dashboard",reports:"Reports",store:"Visit Store",personal:"Personal Center",admin:"Admin"},booking:{title:"Pet Service Booking",selectService:"Select Service",selectDate:"Select Date",selectTime:"Select Time",fillInfo:"Fill Information",customerName:"Customer Name",customerPhone:"Phone Number",petType:"Pet Type",petBreed:"Pet Breed",petSize:"Pet Size",specialNotes:"Special Notes",submitBooking:"Book Now",submitting:"Submitting...",bookingSuccess:"Booking Successful!",bookingFailed:"Booking Failed",networkError:"Network Error, Please Try Again",completeInfo:"Please complete all information",today:"Today",tomorrow:"Tomorrow",morning:"Morning",afternoon:"Afternoon",evening:"Evening",availableSlots:"slots available",duration:"Duration",minutes:"minutes"},management:{title:"Appointment Management",allStatus:"All Status",pending:"Pending",confirmed:"Confirmed",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",broken:"Broken",selectDate:"Select Date",selectDateRange:"Select Date Range",selectStartDate:"Please select start date",selectEndDate:"Please select end date",dateRange:"Date Range",clear:"Clear",confirm:"Confirm",customer:"Customer",phone:"Phone",pet:"Pet",time:"Time",notes:"Notes",start_service:"Start Service",complete:"Complete",cancel:"Cancel",mark_broken:"Mark Broken",scan_qr:"Scan QR Code",noData:"No appointment data",loadFailed:"Failed to load data",updateSuccess:"Status updated successfully",updateFailed:"Update failed",networkError:"Network error, please try again"},petTypes:{dog:"Dog",cat:"Cat",other:"Other"},sizes:{small:"Small",medium:"Medium",large:"Large"},errors:{required:"This field is required",invalidPhone:"Please enter a valid phone number",networkError:"Network error, please try again"},language:{select_language:"Select Language"},navbar:{scan_signin:"Scan Sign-in",switch_language:"Switch Language",operation_log:"Operation Log",data_report:"Data Report",personal:"Personal Center"},databoard:{title:"Data Dashboard",today_data:"Today's Data",total:"total",pending:"Pending",confirmed:"Confirmed",in_progress:"In Progress",completed:"Completed",broken:"Broken",cancelled:"Cancelled",refresh:"Refresh Data",last_update:"Last Update",recent_appointments:"Recent Appointments",no_recent_appointments:"No Recent Appointments"},reports:{title:"Reports Dashboard",pieChartTitle:"Completed/Broken",barChartTitle:"Appointments Report",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",day:"Day",month:"Month",year:"Year",filter:"Filter",loading:"Loading...",noData:"No data",error:"Load failed",dailyStats:"10 days - Daily Appointment Stats",monthlyStats:"Monthly Appointment Stats",yearlyStats:"Yearly Appointment Stats",completed:"Completed",broken:"Broken",canceled:"Canceled",appointments:"Appointments"},operation_log:{title:"Operation Log",create_appointment:"Create Appointment",update_status:"Update Status",scan_signin:"Scan Sign-in",manual_signin:"Manual Sign-in",cancel_appointment:"Cancel Appointment",operator:"Operator",appointment_no:"Appointment No",status_change:"Status Change",details:"Details",noData:"No operation logs",loadFailed:"Load failed"},appointment_status:{pending:"Pending",confirmed:"Confirmed",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",broken:"Broken"},store:{title:"Store Introduction",name:"Pet Grooming Service Center",address:"No. 88 Jianguo Road, Chaoyang District, Beijing",phone:"400-123-4567",businessHours:"Monday to Sunday 9:00-21:00",store_info:"Store Information",address_label:"Address:",phone_label:"Phone:",hours_label:"Business Hours:",services_title:"Services",features_title:"Store Features",services:{grooming:{name:"Pet Grooming",price:"$80-200",desc:"Professional bathing and styling"},health:{name:"Health Care",price:"$50-150",desc:"Health check, deworming, vaccination"},boarding:{name:"Boarding Service",price:"$60/day",desc:"Comfortable environment, professional care"},supplies:{name:"Pet Supplies",price:"$20-500",desc:"Food, toys, complete supplies"}}},user:{title:"User Center",profile:"Profile",appointment:"Appointments",store:"Store Info",services:"Services",pets:"Pet Records",history:"Consumption History",personal_info:"Personal Information",phone_number:"Phone Number",register_time:"Registration Time",appointment_count:"Appointment Count",times:"times",actions:"Actions",new_appointment:"New Appointment",logout:"Logout",no_appointments:"No appointment records",book_now:"Book Now",service:"Service",time:"Time",pet:"Pet",pet_type:"Pet Type",pet_breed:"Pet Breed",store_name:"Pet Grooming Service Center",store_address:"No. 88 Jianguo Road, Chaoyang District, Beijing",store_phone:"Phone: 400-123-4567",store_hours:"Business Hours: Monday to Sunday 9:00-21:00",view_details:"View Details",services_title:"Services",grooming:"Pet Grooming",grooming_price:"$80-200",grooming_desc:"Bathing, drying, trimming, styling, etc.",health_care:"Health Care",health_care_price:"$50-150",health_care_desc:"Health check, deworming, vaccination, etc.",boarding:"Boarding Service",boarding_price:"$60/day",boarding_desc:"Safe and comfortable boarding environment",training:"Training Service",training_price:"$200-500",training_desc:"Basic obedience training, behavior correction",no_pets:"No pet information",add_pet:"Add Pet",consumption_history:"Consumption History",completed:"Completed",cancelled:"Cancelled",broken:"Broken",recent_consumption:"Recent Consumption",not_logged_in:"Not logged in",not_registered:"Not registered",add_pet_developing:"Add pet feature under development"},appointment:{cancel:"Cancel",cancelConfirm:"Are you sure you want to cancel this appointment? This action cannot be undone.",cancelSuccess:"Appointment cancelled successfully",cancelFailed:"Failed to cancel appointment",appointmentNo:"Appointment No",serviceItem:"Service Item",serviceDuration:"Service Duration",servicePrice:"Service Price",estimatedEndTime:"Estimated End Time",createTime:"Create Time",minutes:"minutes",qrTitle:"Appointment QR Code",qrDesc:"Please show this QR code to the merchant for check-in",qrTip:'After scanning the QR code, the appointment status will be updated to "In Progress"'}},T={"zh-CN":k,"en-US":N},C={t(e,t="zh-CN"){const n=e.split(".");let a=T[t];for(const o of n){if(!a||"object"!==typeof a||!(o in a))return e;a=a[o]}return"string"===typeof a?a:e},getAvailableLocales(){return[{code:"zh-CN",name:"\u4e2d\u6587"},{code:"en-US",name:"English"}]}},P=d.createContext(void 0),w=()=>{const e=d.useContext(P);if(void 0===e)throw new Error("useLanguage must be used within a LanguageProvider");return e},R=({children:e})=>{const[t,n]=d.useState(()=>{var e,t;const n=null==(t=null==(e=p)?void 0:e.getStorageSync)?void 0:t.call(e,"app_locale");return n||"zh-CN"});d.useEffect(()=>{var e,n;null==(n=null==(e=p)?void 0:e.setStorageSync)||n.call(e,"app_locale",t)},[t]);const a=e=>C.t(e,t),o={locale:t,setLocale:n,t:a,availableLocales:C.getAvailableLocales()};return m.jsx(P.Provider,{value:o,children:e})},A={setToken(e){try{return u("admin_token",e),!0}catch(t){return console.error("\u5b58\u50a8token\u5931\u8d25:",t),!1}},getToken(){try{return g("admin_token")}catch(e){return console.error("\u83b7\u53d6token\u5931\u8d25:",e),null}},clearToken(){try{return h("admin_token"),!0}catch(e){return console.error("\u6e05\u9664token\u5931\u8d25:",e),!1}},isLoggedIn(){try{return!!this.getToken()}catch(e){return console.error("\u6e05\u9664token\u5931\u8d25:",e),!1}}},j="https://levan-pet-booking.vercel.app/api",x={ENUMS_URL:`${j}/enums`,USERS_GENERATE_TOKEN_URL:`${j}/users/generate-token`,USERS_VERIFY_TOKEN_URL:`${j}/users/verify-token`,USERS_APPOINTMENTS_URL:`${j}/users/appointments`,USERS_ENUMS_URL:`${j}/users/enums`,USERS_SERVICES_URL:`${j}/users/services`,USERS_AVAILABLE_SLOTS_URL:`${j}/users/available-slots`,ADMIN_LOGIN_URL:`${j}/admin/login`,ADMIN_CHECK_TOKEN_URL:`${j}/admin/check-token`,APPOINTMENTS_URL:`${j}/appointments`,APPOINTMENTS_UPDATE_STATUS_URL:`${j}/appointments/:id/status`,AVAILABLE_SLOTS_URL:`${j}/appointments/available-slots`,APPOINTMENT_BY_NO_URL:`${j}/appointments/doc/:doc_no`,APPOINTMENT_STATS_TODAY_URL:`${j}/appointments/stats/today`,APPOINTMENT_TODAY_URL:`${j}/appointments/today`,APPOINTMENT_TODAY_NEW_URL:`${j}/appointments/new`,SERVICES_URL:`${j}/services`,OPERATION_LOGS_URL:`${j}/operation-logs`,REPORTS_DAILY_URL:`${j}/reports/daily`,REPORTS_MONTHLY_URL:`${j}/reports/monthly`,REPORTS_YEARLY_URL:`${j}/reports/yearly`,REPORTS_BASE_URL:`${j}/reports/`,WEBSOCKET_URL:"ws://localhost:3000/ws/databoard"},E=()=>"device_"+Math.random().toString(36).substring(2,9)+Date.now().toString(36),L=()=>{let e=g("device_id");return e||(e=E(),u("device_id",e)),e},D=()=>g("user_token")||null,O=e=>{u("user_token",e)},U=()=>{h("user_token")},B=()=>{const e=g("user_appointments")||[];return e.length>0},I=e=>{const t=g("user_appointments")||[];t.push(e),u("user_appointments",t)},M=()=>{const e=D(),t=B();return{hasToken:!!e,hasAppointment:t}},$=e=>l(void 0,null,function*(){try{const t=A.getToken(),n=c(i({},e),{header:c(i({},e.header?e.header:{}),{"Content-Type":"application/json",authorization:t?`Bearer ${t}`:""}),timeout:1e4}),a=yield _(n);return a}catch(t){throw console.error("API\u8bf7\u6c42\u5931\u8d25:",t),t}}),F=e=>l(void 0,null,function*(){try{const t=D(),n=c(i({},e),{header:c(i({},e.header?e.header:{}),{"Content-Type":"application/json",authorization:t?`Bearer ${t}`:"",device_id:L()}),timeout:1e4});console.log("requestUtils.ts -> apiRequestUser -> device_id",L(),t);const a=yield _(n);return a}catch(t){throw console.error("API\u8bf7\u6c42\u5931\u8d25:",t),t}}),Y=e=>"en-US"===e?{dashboard:"Appointment Management",databoard:"Data Board",reports:"Reports"}:{management:"\u9884\u7ea6\u7ba1\u7406",databoard:"\u6570\u636e\u770b\u677f",reports:"\u62a5\u8868"},z=({className:e=""})=>{const{locale:t,setLocale:n,availableLocales:a,t:o}=w(),r=e=>{n(e);const t=Y(e);v({index:0,text:t.management}),v({index:1,text:t.databoard}),v({index:2,text:t.reports})},s=e=>{switch(e){case"zh-CN":return"\ud83c\udde8\ud83c\uddf3";case"en-US":return"\ud83c\uddfa\ud83c\uddf8";default:return"\ud83c\udf10"}};return m.jsx(y,{className:`language-switcher ${e}`,children:m.jsxs(y,{className:"language-modal",children:[m.jsx(S,{className:"language-title",children:o("language.select_language")}),m.jsx(y,{className:"language-list",children:a.map(e=>m.jsxs(b,{className:"language-item "+(t===e.code?"active":""),onClick:()=>r(e.code),children:[m.jsx(S,{className:"language-flag",children:s(e.code)}),m.jsx(S,{className:"language-name",children:e.name})]},e.code))})]})})},H=({showScanButton:e=!1,showLanguageSwitcher:t=!0,showReports:n=!0,showLog:a=!0,showPersonal:o=!0,onScanClick:r=()=>{}})=>{const{t:s}=w(),[i,c]=d.useState(!1),[u,g]=d.useState(!1),h=()=>{c(!i)},_=()=>{c(!1),null==r||r()},b=()=>{c(!1),g(!0)},v=()=>l(void 0,null,function*(){c(!1);try{yield $({url:x.OPERATION_LOGS_URL,method:"POST",data:{operation_type:"view_operation_log",operator:"admin",details:"\u67e5\u770b\u64cd\u4f5c\u65e5\u5fd7\u9875\u9762"}})}catch(e){console.error("\u8bb0\u5f55\u64cd\u4f5c\u65e5\u5fd7\u5931\u8d25:",e)}p.navigateTo({url:"/pages/operation-log/operation-log"})}),f=()=>{c(!1),p.navigateTo({url:"/pages/reports/reports"})},k=()=>{c(!1),p.navigateTo({url:"/pages/user/user"})};return m.jsxs(y,{className:"navbar-menu",children:[m.jsx(y,{className:"menu-button",onClick:h,children:m.jsx(S,{className:"menu-icon",children:"\u2630"})}),i&&m.jsxs(y,{className:"menu-dropdown",children:[e&&m.jsxs(y,{className:"menu-item",onClick:_,children:[m.jsx(S,{className:"menu-icon",children:"\ud83d\udcf7"}),m.jsx(S,{className:"menu-text",children:s("navbar.scan_signin")})]}),o&&m.jsxs(y,{className:"menu-item",onClick:k,children:[m.jsx(S,{className:"menu-icon iconfont icon-Account"}),m.jsx(S,{className:"menu-text",children:s("navbar.personal")})]}),t&&m.jsxs(y,{className:"menu-item",onClick:b,children:[m.jsx(S,{className:"menu-icon iconfont icon-Language"}),m.jsx(S,{className:"menu-text",children:s("navbar.switch_language")})]}),a&&m.jsxs(y,{className:"menu-item",onClick:v,children:[m.jsx(S,{className:"menu-icon iconfont icon-OrderHistory"}),m.jsx(S,{className:"menu-text",children:s("navbar.operation_log")})]}),n&&m.jsxs(y,{className:"menu-item",onClick:f,children:[m.jsx(S,{className:"menu-icon iconfont icon-zhuzhuangtu"}),m.jsx(S,{className:"menu-text",children:s("navbar.data_report")})]})]}),u&&m.jsx(y,{className:"modal-overlay",onClick:()=>g(!1),children:m.jsx(y,{className:"modal-content",onClick:e=>e.stopPropagation(),children:m.jsx(z,{})})})]})},q=({title:e,showBack:t=!0,personalCenter:n=!0,showLanguageSwitcher:a=!0,showScanButton:o=!1,showMenu:r=!0,showReports:s=!0,showLog:i=!0,onScanClick:c})=>{w();const l=()=>{p.navigateBack()};return m.jsxs(y,{className:"custom-navbar",children:[t&&m.jsx(y,{className:"navbar-left",onClick:l,children:m.jsx(S,{className:"back-icon iconfont icon-xiangzuo"})}),m.jsx(S,{className:"navbar-title",children:e}),m.jsx(y,{className:"navbar-right",children:r&&m.jsx(H,{showScanButton:o,onScanClick:c,showLanguageSwitcher:a,showReports:s,showLog:i,showPersonal:n})})]})};function G(e,t="YYYY-MM-DD"){const n=new Date(e),a=n.getFullYear(),o=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return t.replace("YYYY",a.toString()).replace("MM",o).replace("DD",r)}const J=(e,t={})=>{const{redirectTo:n="/pages/admin/login"}=t;return function(t){const[a,o]=f.useState({isAuthenticated:!1,checking:!0,error:null});return f.useEffect(()=>{let e=!0;const t=()=>l(this,null,function*(){try{const t=A.getToken();if(!t)throw new Error("\u6ca1\u6709token");const n=yield $({url:x.ADMIN_CHECK_TOKEN_URL,method:"GET"});if(!(n&&n.data&&n.data.success&&e))throw new Error("Token\u65e0\u6548\u6216\u54cd\u5e94\u683c\u5f0f\u9519\u8bef");o({isAuthenticated:!0,checking:!1,error:null})}catch(t){console.error("withAuth.tsx -> \u8ba4\u8bc1\u8fc7\u7a0b\u51fa\u9519:",t),e&&o({isAuthenticated:!1,checking:!1,error:t.message}),setTimeout(()=>{try{const e=p.getCurrentPages();let t="/pages/management/management";if(e.length>0){const n=e[e.length-1];t=`${n.route}`}p.redirectTo({url:`${n}?redirect=${encodeURIComponent(t)}`})}catch(e){p.redirectTo({url:n})}},100)}});return t(),()=>{e=!1}},[]),a.checking?m.jsx(y,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200rpx"},children:m.jsx(S,{children:"\u9a8c\u8bc1\u767b\u5f55\u72b6\u6001\u4e2d..."})}):a.isAuthenticated?m.jsx(e,i({},t)):m.jsxs(y,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200rpx"},children:[m.jsxs(S,{children:["\u8ba4\u8bc1\u5931\u8d25: ",a.error]}),m.jsx(S,{children:"\u6b63\u5728\u8df3\u8f6c\u5230\u767b\u5f55\u9875..."})]})}},K=e=>{const t=e.charCodeAt(0);return t>=19968&&t<=40959||t>=13312&&t<=19903};export{x as A,q as C,R as L,$ as a,O as b,M as c,A as d,F as e,G as f,L as g,D as h,K as i,U as j,I as s,w as u,J as w};
